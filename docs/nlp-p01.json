{"version":2,"kind":"Notebook","sha256":"8e5eb3b659d146fb2864f8f551eb2c4755bdf508f12c7a27d61471473a29687f","slug":"nlp-p01","location":"/nlp-P01.ipynb","dependencies":[],"frontmatter":{"title":"Part 1: Data Loading and Initial Exploration (15 pts)","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"exports":[{"format":"ipynb","filename":"nlp-P01.ipynb","url":"/build/nlp-P01-48e25408b8f0fe07d682b0abeaf9a4c0.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this section, we import the data and perform EDA.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cgnPEBKfGX"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y3RjLDTwHn"},{"type":"text","value":"Before starting the analysis, we first created the conda environment with the provided yaml file in the terminal. (conda env create -f environment.yml)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wOB2j19afO"}],"key":"YFMp6vitKb"}],"key":"EjEJjFbfTA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basic Imports and Plot Settings","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UER0FF56mu"}],"identifier":"basic-imports-and-plot-settings","label":"Basic Imports and Plot Settings","html_id":"basic-imports-and-plot-settings","implicit":true,"key":"Wg8qJQMv4Y"}],"key":"Gg75dHEn2s"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nplt.style.use('seaborn-v0_8-dark')","key":"s4nqXulWzY"},{"type":"output","id":"Xq9g_DUEpFeXmgM55sjpn","data":[],"key":"VkE5u5PPyr"}],"key":"ZYnild1May"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.1 Read Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZvRIgOQ7X3"}],"identifier":"id-1-1-read-data","label":"1.1 Read Data","html_id":"id-1-1-read-data","implicit":true,"key":"dwtMRJFOcd"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We load the dataset into a pandas dataframe.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gtFNXsK8nW"}],"key":"OCnmldRU6c"}],"key":"dKFCFG6Jdp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sou = pd.read_csv(\"data/SOTU.csv\")\nsou[\"Year\"] = sou[\"Year\"].astype(int)\n\nsou.head()","key":"UKJLlzS4Ba"},{"type":"output","id":"qP7-KFFb4crYSRaix8i63","data":[{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>President</th>\n      <th>Year</th>\n      <th>Text</th>\n      <th>Word Count</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Joseph R. Biden</td>\n      <td>2024</td>\n      <td>\\n[Before speaking, the President presented hi...</td>\n      <td>8003</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Joseph R. Biden</td>\n      <td>2023</td>\n      <td>\\nThe President. Mr. Speaker——\\n[At this point...</td>\n      <td>8978</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Joseph R. Biden</td>\n      <td>2022</td>\n      <td>\\nThe President. Thank you all very, very much...</td>\n      <td>7539</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Joseph R. Biden</td>\n      <td>2021</td>\n      <td>\\nThe President. Thank you. Thank you. Thank y...</td>\n      <td>7734</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Donald J. Trump</td>\n      <td>2020</td>\n      <td>\\nThe President. Thank you very much. Thank yo...</td>\n      <td>6169</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"         President  Year                                               Text  \\\n0  Joseph R. Biden  2024  \\n[Before speaking, the President presented hi...   \n1  Joseph R. Biden  2023  \\nThe President. Mr. Speaker——\\n[At this point...   \n2  Joseph R. Biden  2022  \\nThe President. Thank you all very, very much...   \n3  Joseph R. Biden  2021  \\nThe President. Thank you. Thank you. Thank y...   \n4  Donald J. Trump  2020  \\nThe President. Thank you very much. Thank yo...   \n\n   Word Count  \n0        8003  \n1        8978  \n2        7539  \n3        7734  \n4        6169  ","content_type":"text/plain"}}}],"key":"BfwMRbZAKK"}],"key":"pQDMvIqIxY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.2 Exploratory Data Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kyP2B9Z7KC"}],"identifier":"id-1-2-exploratory-data-analysis","label":"1.2 Exploratory Data Analysis","html_id":"id-1-2-exploratory-data-analysis","implicit":true,"key":"aURreGZ6Ql"}],"key":"vQGZPWJki0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.2.1 Number of Speeches per President","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NLBr5Z06m6"}],"identifier":"id-1-2-1-number-of-speeches-per-president","label":"1.2.1 Number of Speeches per President","html_id":"id-1-2-1-number-of-speeches-per-president","implicit":true,"key":"wbiJet49OC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Here, we count the number of speeches per president, reorder them to match the dataset’s original president order, and visualize the results with a bar chart.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LVxxxnvyDH"}],"key":"GEx8DI45cS"}],"key":"hMDOd8tCVH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"speeches_per_pres = sou[\"President\"].value_counts()\n\npres_order = sou[\"President\"].drop_duplicates()\nspeeches_per_pres = speeches_per_pres.reindex(pres_order)\n\nspeeches_per_pres","key":"Fmz0jlONaJ"},{"type":"output","id":"tBJXsmVyF9g5bRiBi_H9p","data":[{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"President\nJoseph R. Biden           4\nDonald J. Trump           4\nBarack Obama              8\nGeorge W. Bush            8\nWilliam J. Clinton        8\nGeorge Bush               4\nRonald Reagan             8\nJimmy Carter              7\nGerald R. Ford            3\nRichard M. Nixon          6\nLyndon B. Johnson         6\nJohn F. Kennedy           3\nDwight D. Eisenhower     10\nHarry S Truman            8\nFranklin D. Roosevelt    11\nHerbert Hoover            4\nCalvin Coolidge           6\nWarren G. Harding         2\nWoodrow Wilson            8\nWilliam Howard Taft       4\nTheodore Roosevelt        8\nWilliam McKinley          4\nGrover Cleveland          8\nBenjamin Harrison         4\nChester A. Arthur         4\nRutherford B. Hayes       4\nUlysses S. Grant          8\nAndrew Johnson            4\nAbraham Lincoln           4\nJames Buchanan            4\nFranklin Pierce           4\nMillard Fillmore          3\nZachary Taylor            1\nJames K. Polk             4\nJohn Tyler                4\nMartin Van Buren          4\nAndrew Jackson            8\nJohn Quincy Adams         4\nJames Monroe              8\nJames Madison             8\nThomas Jefferson          8\nJohn Adams                4\nGeorge Washington        12\nName: count, dtype: int64","content_type":"text/plain"}}}],"key":"eaN56pO0pW"}],"key":"AKnYHfXjz0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ax = speeches_per_pres.plot(kind=\"bar\")\n\nax.set_title(\"Number of Speeches per President\")\nax.set_ylabel(\"Count\")\nplt.xticks(rotation=90)\nplt.tight_layout()\n\nplt.savefig(\"outputs/P01_figure_1.png\")","key":"c8g1ubHFKZ"},{"type":"output","id":"pqmzsxZf0RBIekXvfMrw-","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fbd50be0c15506e804f6ce0954503d61","path":"/build/fbd50be0c15506e804f6ce0954503d61.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"S1E3wuWiUw"}],"key":"WGCADUYmTC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.2.2 Number of Speeches per Year","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c0ZCSvX28T"}],"identifier":"id-1-2-2-number-of-speeches-per-year","label":"1.2.2 Number of Speeches per Year","html_id":"id-1-2-2-number-of-speeches-per-year","implicit":true,"key":"TFpDsFKcjp"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We count the number of speeches given each year, sort them in chronological order, and plot the yearly trend as a line chart.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"W7Ep9HHPcj"}],"key":"qqQixbfWJE"}],"key":"UWCEpqfVuX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"speeches_per_year = sou[\"Year\"].value_counts().sort_index()\n\nax = speeches_per_year.plot()\nax.set_title(\"Number of State of the Union Speeches per Year\")\nax.set_xlabel(\"Year\")\nax.set_ylabel(\"Count\")\nplt.tight_layout()\n\nplt.savefig(\"outputs/P01_figure_2.png\")","key":"uGDyPAYxmY"},{"type":"output","id":"XZ543EAxpmTYg4000Yoeh","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"035a6cbadc297f0334c1910ab43c49d7","path":"/build/035a6cbadc297f0334c1910ab43c49d7.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"RTyhmwUf1X"}],"key":"aS4HYlf5gy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.2.3 Word Count Distribution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XRZz2o3zaj"}],"identifier":"id-1-2-3-word-count-distribution","label":"1.2.3 Word Count Distribution","html_id":"id-1-2-3-word-count-distribution","implicit":true,"key":"D5P4cLQIHt"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We visualize the distribution of speech lengths by plotting a histogram of word counts across all State of the Union speeches.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WwKadntq5d"}],"key":"wtefCWPoXM"}],"key":"xUyril91QK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sns.histplot(data=sou, x=\"Word Count\", bins=18)\n\nplt.title(\"Distribution of State of the Union Speech Word Counts\")\nplt.xlabel(\"Word Count\")\nplt.ylabel(\"Count\")\nplt.tight_layout()\n\nplt.savefig(\"outputs/P01_figure_3.png\")","key":"qwk6FCulqL"},{"type":"output","id":"nPpf1BATivfM2FFi9O8Rx","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"28a29208200231b6a1e3b64ca18f801d","path":"/build/28a29208200231b6a1e3b64ca18f801d.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"CcoepliP3w"}],"key":"nkDlzecgPA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.2.4 Word Count Distribution over Year","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WIVf8ivpOl"}],"identifier":"id-1-2-4-word-count-distribution-over-year","label":"1.2.4 Word Count Distribution over Year","html_id":"id-1-2-4-word-count-distribution-over-year","implicit":true,"key":"asT3DKitwW"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We explore the relationship between speech length and time by plotting a scatterplot of word count vs. year, with rug plots added to show the marginal distributions along each axis.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QmOmx90MLJ"}],"key":"TOaKJydM0n"}],"key":"HHCLfv5DGy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sns.scatterplot(data=sou, x=\"Word Count\", y=\"Year\")\n\nsns.rugplot(data=sou, x=\"Word Count\")\nsns.rugplot(data=sou, y=\"Year\", color=\"#1f77b4\") # changed color to match original plot\n\nplt.title(\"Speech Year Versus Word Count\")\nplt.xlabel(\"Word Count\")\nplt.ylabel(\"Year\")\nplt.tight_layout()\n\nplt.savefig(\"outputs/P01_figure_4.png\")","key":"HYZrRUiKEw"},{"type":"output","id":"X86XS4X9UBkk-bmprFTDP","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6a022b7471c9a664483cf72125afe805","path":"/build/6a022b7471c9a664483cf72125afe805.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"xkGM1fbWsM"}],"key":"Mgm54lM9Nk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.2.5 Word Count Distribution per President","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GaYlCbcgAb"}],"identifier":"id-1-2-5-word-count-distribution-per-president","label":"1.2.5 Word Count Distribution per President","html_id":"id-1-2-5-word-count-distribution-per-president","implicit":true,"key":"jC0dLh0lCK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We compute each president’s average speech length, reorder the results to match the dataset’s president order, and visualize the averages using a bar chart.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aU1F5ebzUG"}],"key":"RqWDbqT1Kd"}],"key":"DfezSLZBSW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(15, 6))\n\navg_words_pres = sou.groupby(\"President\")[\"Word Count\"].mean()\n\navg_words_pres = avg_words_pres.reindex(pres_order)\n\nax = avg_words_pres.plot(kind=\"bar\")\n\nax.set_title(\"Average State of the Union Word Count\\nper President\")\nax.set_ylabel(\"Average Word Count\")\nplt.xticks(fontsize=10, rotation=90)\nplt.tight_layout()\n\nplt.savefig(\"outputs/P01_figure_5.png\")","key":"AEd79HNbdY"},{"type":"output","id":"zGdwWtLpz3hzWqKU4ZNnD","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"03b621b5760d26bd538da9b1fcd7469d","path":"/build/03b621b5760d26bd538da9b1fcd7469d.png"},"text/plain":{"content":"<Figure size 1500x600 with 1 Axes>","content_type":"text/plain"}}}],"key":"J8USh0qeOo"}],"key":"EEnOHyWgYO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"1.3 Commentary on My Findings","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uDEDMYETVK"}],"identifier":"id-1-3-commentary-on-my-findings","label":"1.3 Commentary on My Findings","html_id":"id-1-3-commentary-on-my-findings","implicit":true,"key":"Fir24M1DQI"}],"key":"XvAtFg4hMn"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"(write here)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iuvY5tCtpr"}],"key":"FD5wh7UsNS"}],"key":"B2E2i3jlmD"}],"key":"ccNFzkumQC"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Project 2: Reproducibility in Natural Language Processing","url":"/","group":"Project 2: Reproducibility in Natural Language Processing"},"next":{"title":"Part 2: Simple Text Processing - Tokenization, Lemmatization, Word Frequency, Vectorization (20 pts)","url":"/nlp-p02","group":"Project 2: Reproducibility in Natural Language Processing"}}},"domain":"http://localhost:3000"}