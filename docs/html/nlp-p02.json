{"version":2,"kind":"Notebook","sha256":"9c943be5fec0ae546a63cd48fbdd4e63bdd6db21303298b38593b6b48e9bc6d5","slug":"nlp-p02","location":"/nlp-P02.ipynb","dependencies":[],"frontmatter":{"title":"Part 2: Simple Text Processing - Tokenization, Lemmatization, Word Frequency, Vectorization (20 pts)","content_includes_title":false,"kernelspec":{"name":"sotu","display_name":"sotu","language":"python"},"authors":[{"id":"Zhang, Tony","name":"Zhang, Tony"},{"id":"Choi, Cyrus","name":"Choi, Cyrus"},{"id":"Chen, I Gy","name":"Chen, I Gy"},{"id":"Goyal, Saachi","name":"Goyal, Saachi"}],"github":"https://github.com/UCB-stat-159-f25/proj02-group23","source_url":"https://github.com/UCB-stat-159-f25/proj02-group23/blob/main/nlp-P02.ipynb","edit_url":"https://github.com/UCB-stat-159-f25/proj02-group23/edit/main/nlp-P02.ipynb","exports":[{"format":"ipynb","filename":"nlp-P02.ipynb","url":"/proj02-group23/build/nlp-P02-5c5d283aeefda84eecf3c7cb72e03cf0.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this section, we explored the most common tokens and lemmas throughout different slices of the speech data and developed vectorization representations of the speeches.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MFhiKnzQRi"}],"key":"E44SR1MDMR"}],"key":"nkjVYBhVci"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Basic Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CZLYk5u881"}],"identifier":"basic-imports","label":"Basic Imports","html_id":"basic-imports","implicit":true,"key":"RmA3OjUIdx"}],"key":"PUF2wKGybO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import spacy\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom matplotlib.colors import LogNorm\nfrom tqdm import tqdm\nimport numpy as np\nfrom collections import Counter","key":"WyTSupUPRe"},{"type":"output","id":"d8GbCLBLJ2hObgreZoJlH","data":[],"key":"mLhENyAFCU"}],"key":"fxc64Vuqvj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.1 Processing Speeches with SpaCy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bmwjTO4V8X"}],"identifier":"id-2-1-processing-speeches-with-spacy","label":"2.1 Processing Speeches with SpaCy","html_id":"id-2-1-processing-speeches-with-spacy","implicit":true,"key":"kkzukh1oDA"}],"key":"JzAZkNeowK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"nlp = spacy.load(\"en_core_web_sm\")\n\n# subset the speech dataframe for speeches from 2000 and onwards\nsou = pd.read_csv(\"data/SOTU.csv\")\nsou[\"Year\"] = sou[\"Year\"].astype(int)\nsou_2000 = sou[sou[\"Year\"] >= 2000]\n\n# Process speeches\nprocessed_speeches = []\nfor text in tqdm(sou_2000[\"Text\"], desc=\"Processing speeches\"):\n    processed_speeches.append(nlp(text))\n","key":"JB5kebdW0A"},{"type":"output","id":"fhO-TaFpCB3KIpBinU5u4","data":[{"name":"stderr","output_type":"stream","text":"Processing speeches: 100%|██████████| 25/25 [00:25<00:00,  1.02s/it]\n"}],"key":"IeucrqnecW"}],"key":"O0GSqw0AEz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.2 Analyze Tokens vs Lemmas","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sEYqJseRNh"}],"identifier":"id-2-2-analyze-tokens-vs-lemmas","label":"2.2 Analyze Tokens vs Lemmas","html_id":"id-2-2-analyze-tokens-vs-lemmas","implicit":true,"key":"IfYzES43e4"}],"key":"sJ05jnmylE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.2.1 Token List","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mZErEdgpBw"}],"identifier":"id-2-2-1-token-list","label":"2.2.1 Token List","html_id":"id-2-2-1-token-list","implicit":true,"key":"Y7M1PYOdjJ"}],"key":"oRILpURckU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tokens = []\n\nfor doc in processed_speeches:\n    for token in doc:\n        if not token.is_stop and not token.is_punct and not token.is_space:\n            tokens.append(token.text.lower())\n\ntoken_counts = Counter(tokens)\ntoken_counts.most_common(25)","key":"bwbG6tu32w"},{"type":"output","id":"XDNV9UAQa6coSWcBBkRJ5","data":[{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/plain":{"content":"[('america', 816),\n ('people', 637),\n ('american', 582),\n ('new', 530),\n ('years', 439),\n ('americans', 437),\n ('world', 425),\n ('year', 406),\n ('country', 369),\n ('jobs', 348),\n ('tonight', 344),\n ('work', 324),\n ('know', 323),\n ('let', 320),\n ('congress', 317),\n ('nation', 311),\n ('time', 301),\n ('help', 282),\n ('need', 266),\n ('tax', 255),\n ('president', 247),\n ('economy', 243),\n ('like', 241),\n ('right', 240),\n ('want', 237)]","content_type":"text/plain"}}}],"key":"ijjB0XYze6"}],"key":"wgylRL6sa9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.2.2 Lemma List","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nfhfvfI3nw"}],"identifier":"id-2-2-2-lemma-list","label":"2.2.2 Lemma List","html_id":"id-2-2-2-lemma-list","implicit":true,"key":"rPNj5cA57l"}],"key":"DVWHynpaSx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"lemmas = []\n\nfor doc in processed_speeches:\n    for token in doc:\n        if not token.is_stop and not token.is_punct and not token.is_space:\n            lemmas.append(token.lemma_.lower())\n\nlemma_counts = Counter(lemmas)\nlemma_counts.most_common(25)","key":"tH9kFeqgCL"},{"type":"output","id":"vk97728ByKgZCYyQOE9lj","data":[{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/plain":{"content":"[('year', 845),\n ('america', 816),\n ('people', 639),\n ('american', 587),\n ('work', 557),\n ('new', 532),\n ('job', 486),\n ('country', 435),\n ('americans', 432),\n ('world', 426),\n ('know', 395),\n ('nation', 388),\n ('help', 378),\n ('need', 353),\n ('time', 351),\n ('tonight', 344),\n ('child', 332),\n ('let', 326),\n ('congress', 317),\n ('come', 301),\n ('family', 296),\n ('good', 294),\n ('right', 282),\n ('million', 274),\n ('want', 264)]","content_type":"text/plain"}}}],"key":"VPqi4OPzko"}],"key":"o2HaWDhYFP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.2.3 Token versus Lemma Comparison","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D27gDKidSk"}],"identifier":"id-2-2-3-token-versus-lemma-comparison","label":"2.2.3 Token versus Lemma Comparison","html_id":"id-2-2-3-token-versus-lemma-comparison","implicit":true,"key":"mzI7m5Yjvw"}],"key":"K8DQSaelFv"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"(write your analysis here)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iplhaAw8gS"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dxSfddht2C"},{"type":"text","value":"What do you notice about the top tokens versus the top lemmas?\nConsider two tokens - “year” and “years” - how do their counts compare to the lemma “year”?\nWhat about the lemma “child”?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HPNaelEU6c"}],"key":"PorCH4NhBo"}],"key":"RyrR90PTip"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.3 Common Words","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wk9eSLkLyo"}],"identifier":"id-2-3-common-words","label":"2.3 Common Words","html_id":"id-2-3-common-words","implicit":true,"key":"CgQgKWNAfs"}],"key":"wd4PQFeCzN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.3.1 Common Words per Year Function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"coPyKXYgv5"}],"identifier":"id-2-3-1-common-words-per-year-function","label":"2.3.1 Common Words per Year Function","html_id":"id-2-3-1-common-words-per-year-function","implicit":true,"key":"ErjD9wMk1V"}],"key":"q8a7IjOKpr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def get_most_common_words(df, year, n=25):\n    \"\"\"\n    Processes the SOTU speeches for a given year and returns \n    the top n most common non-stopword, non-punctuation lemmas.\n    \"\"\"\n\n    df_year = df[df[\"Year\"] == int(year)]\n    \n    year_lemmas = []\n    for text in df_year[\"Text\"]:\n        doc = nlp(text)\n        for token in doc:\n            if not token.is_stop and not token.is_punct and not token.is_space:\n                year_lemmas.append(token.lemma_.lower())\n\n    counts = Counter(year_lemmas)\n    return counts.most_common(n)","key":"PHiXEG3bOv"},{"type":"output","id":"X5Cn7TdFOajMipdolQYqH","data":[],"key":"Jc1pVFCQMk"}],"key":"BorEkxSLLA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"get_most_common_words(sou, 2024, n=10)","key":"MohJBXALHf"},{"type":"output","id":"HbjdwqaFxcoJhR9MUOCF-","data":[{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/plain":{"content":"[('president', 58),\n ('year', 45),\n ('america', 44),\n ('american', 34),\n ('people', 33),\n ('$', 33),\n ('member', 32),\n ('want', 29),\n ('audience', 29),\n ('know', 29)]","content_type":"text/plain"}}}],"key":"HdcluS41ci"}],"key":"etCqEkV20W"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.3.2 Compare 2023 to 2017","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NXKueoDMtR"}],"identifier":"id-2-3-2-compare-2023-to-2017","label":"2.3.2 Compare 2023 to 2017","html_id":"id-2-3-2-compare-2023-to-2017","implicit":true,"key":"wVTLELJjR3"}],"key":"ekD68H0ABD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"words_2023 = get_most_common_words(sou, 2023, n=20)\nwords_2017 = get_most_common_words(sou, 2017, n=20)","key":"ZGBQ844ZZQ"},{"type":"output","id":"8RhKz0eDJGz8YRbDXNeSZ","data":[],"key":"Kf8uwX8g15"}],"key":"NkU4xXcFAj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"words_2023","key":"rPYJKvrjxA"},{"type":"output","id":"2pqi1FBJJaS2bwh4BqBPW","data":[{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"[('year', 58),\n ('go', 56),\n ('let', 45),\n ('know', 40),\n ('people', 39),\n ('job', 38),\n ('america', 36),\n ('come', 33),\n ('law', 33),\n ('pay', 33),\n ('american', 31),\n ('$', 31),\n ('president', 30),\n ('look', 27),\n ('world', 25),\n ('folk', 24),\n ('nation', 24),\n ('audience', 23),\n ('work', 23),\n ('right', 23)]","content_type":"text/plain"}}}],"key":"GXkk14K4ec"}],"key":"FDDnlvsyIV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"words_2017","key":"jMDhu07zFN"},{"type":"output","id":"F52q_U5uFSBnwizk43FQJ","data":[{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"[('american', 34),\n ('america', 29),\n ('country', 26),\n ('nation', 21),\n ('great', 20),\n ('new', 19),\n ('year', 19),\n ('world', 18),\n ('job', 15),\n ('people', 15),\n ('americans', 14),\n ('united', 13),\n ('tonight', 13),\n ('states', 12),\n ('work', 12),\n ('child', 12),\n ('want', 12),\n ('time', 12),\n ('citizen', 11),\n ('right', 11)]","content_type":"text/plain"}}}],"key":"JslKI0obXi"}],"key":"gow0Akwv4N"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df_2023 = pd.DataFrame(words_2023, columns=[\"Word\", \"Count\"])\ndf_2017 = pd.DataFrame(words_2017, columns=[\"Word\", \"Count\"])\n\nfig, axes = plt.subplots(2, 1, figsize=(12, 12))\n\nsns.barplot(ax=axes[0], data=df_2017, x=\"Word\", y=\"Count\")\naxes[0].set_title(\"2017 State of the Union Most Frequent Words\")\naxes[0].tick_params(axis='x', rotation=90)\n\nsns.barplot(ax=axes[1], data=df_2023, x=\"Word\", y=\"Count\")\naxes[1].set_title(\"2023 State of the Union Most Frequent Words\")\naxes[1].tick_params(axis='x', rotation=90)\n\nplt.tight_layout()\nplt.show()\n\nplt.savefig(\"outputs/P02_figure_1.png\")","key":"YBOHC5WDmO"},{"type":"output","id":"1OXSGJXze0lWSBvPXxqf_","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"9900803a2a0d9fdc6bb1c37dcda0e13d","path":"/proj02-group23/build/9900803a2a0d9fdc6bb1c37dcda0e13d.png"},"text/plain":{"content":"<Figure size 1200x1200 with 2 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"fvUtlVQMpN"}],"key":"y8eJm3b7sf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4 TF-IDF Vectorization","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cQ8jN3ZYvT"}],"identifier":"id-2-4-tf-idf-vectorization","label":"2.4 TF-IDF Vectorization","html_id":"id-2-4-tf-idf-vectorization","implicit":true,"key":"usfkiHzxfV"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We fit a TF-IDF vectorizer, plot all the speeches on a 2-D grid using PCA and also using a heatmap, and examine TF-IDF scores for the top 10 most common words in the first speech.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"si01Tyhy3a"}],"key":"k8rJlmFku4"}],"key":"sI6fAnSI3F"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.decomposition import PCA","key":"UMHkJYcCM5"},{"type":"output","id":"s-EJXZsydcLj0OH323CI4","data":[],"key":"Wex5ww9TRI"}],"key":"OVe8IvJlPc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4.1 Train the Vectorizer and Transform the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PkTZbYQvEl"}],"identifier":"id-2-4-1-train-the-vectorizer-and-transform-the-data","label":"2.4.1 Train the Vectorizer and Transform the Data","html_id":"id-2-4-1-train-the-vectorizer-and-transform-the-data","implicit":true,"key":"ktqKknJsQL"}],"key":"mAVNd2GgxJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"raw_docs = sou[\"Text\"].to_list()","key":"KDrT2e4FgX"},{"type":"output","id":"3IKlPpmoK1TJuubKlLruX","data":[],"key":"BxLPVgFSxV"}],"key":"rTzmYEGnVA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"vectorizer = TfidfVectorizer()\nvectorized_docs = vectorizer.fit_transform(raw_docs)","key":"c8rht2yfPl"},{"type":"output","id":"yuAfRo0wUs2-1kq2ORz-V","data":[],"key":"EuCaETjzsB"}],"key":"RUrs7HKdSO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4.2 Plot Speeches","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MTRLX1hT4z"}],"identifier":"id-2-4-2-plot-speeches","label":"2.4.2 Plot Speeches","html_id":"id-2-4-2-plot-speeches","implicit":true,"key":"QxSjnD18aI"}],"key":"yskhaxtBkj"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"pca = PCA(n_components=2)\nprincipal_components = pca.fit_transform(vectorized_docs.toarray())\npca_df = pd.DataFrame(data = principal_components, \n                      columns = ['Principle Component 1', 'Principle Component 2'])\n\nplt.figure(figsize=(10,6))\nplt.scatter(principal_components [:,0], principal_components [:,1])\nplt.title(\"Plot of Vectorized Speeches Principal Components\")\nplt.xlabel(\"Principal Component 1\")\nplt.ylabel(\"Principal Component 2\")\nplt.show()\n\nplt.savefig(\"outputs/P02_figure_2.png\")","key":"DjwFM900wJ"},{"type":"output","id":"LM96ecixxgyHirRhNPaN8","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a543dc1365516ad00537a487914a7624","path":"/proj02-group23/build/a543dc1365516ad00537a487914a7624.png"},"text/plain":{"content":"<Figure size 1000x600 with 1 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"wWy2tn9rAW"}],"key":"rfStdCZjKO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dense_vectorized_docs = vectorized_docs.toarray()\nplt.figure(figsize=(10, 10))\nsns.heatmap(\n    dense_vectorized_docs,\n    cmap= \"rocket\", \n    norm= LogNorm(vmin=dense_vectorized_docs[dense_vectorized_docs > 0].min(), \n                 vmax=dense_vectorized_docs.max())\n)\nplt.xticks(\n    ticks=np.arange(0, dense_vectorized_docs.shape[1], 928),\n    labels=np.arange(0, dense_vectorized_docs.shape[1], 928),\n    rotation=90\n)\n\nplt.yticks(\n    ticks=np.arange(0, dense_vectorized_docs.shape[0], 10),\n    labels=np.arange(0, dense_vectorized_docs.shape[0], 10)\n)\n\nplt.title(\"Vectorized Speeches\")\nplt.xlabel(\"Vector Index\")\nplt.ylabel(\"Speech Index\")\nplt.show()\n\nplt.savefig(\"outputs/P02_figure_3.png\")","key":"zomVpFde3K"},{"type":"output","id":"niXuygY0ETtmDobUnA_Kp","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"15fa3a08d9f4eb803fbae9d26c351d9e","path":"/proj02-group23/build/15fa3a08d9f4eb803fbae9d26c351d9e.png"},"text/plain":{"content":"<Figure size 1000x1000 with 2 Axes>","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 0 Axes>","content_type":"text/plain"}}}],"key":"M6Nl26Hsmq"}],"key":"tIGU7DXhwW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4.3 Get the TF-IDF value","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jEDGciJuUl"}],"identifier":"id-2-4-3-get-the-tf-idf-value","label":"2.4.3 Get the TF-IDF value","html_id":"id-2-4-3-get-the-tf-idf-value","implicit":true,"key":"X3jF9YOSWW"}],"key":"HwUeK6eScG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"word_list = ['year','america','people','american','work','new','job','country','americans','world']","key":"p8l3NCZmRC"},{"type":"output","id":"fuRkWTAdzt6CPi-JbfqaL","data":[],"key":"mnFHAMBqyR"}],"key":"KEoWB3WtKx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"word_nums = [vectorizer.vocabulary_.get(w, None) for w in word_list]","key":"yu1McAofSI"},{"type":"output","id":"sRcUuLCI30i1TTmENMpvy","data":[],"key":"VowqBIgvsG"}],"key":"hNUt0Po8mN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"idf_score = [vectorizer.idf_[i] for i in word_nums]","key":"ZU0JkxBjnw"},{"type":"output","id":"yvFfpUnTpiaDBGGIHiSVE","data":[],"key":"BDZGnlx2u0"}],"key":"haKF14bSbw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dense_matrix = vectorized_docs.toarray()\ntf_idf = [dense_matrix[0][i] for i in word_nums]","key":"UQJ5lcJxzs"},{"type":"output","id":"WYbf6nQ0R5hlOSqDiX6ps","data":[],"key":"pqubsHutQC"}],"key":"m5I85gPFeD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pd.DataFrame({\"Word\": word_list,\n              \"IDF Score\": idf_score,\n              \"TF-IDF Score\": tf_idf})","key":"YZTuzOcA1p"},{"type":"output","id":"3wUbnjl5AxK5V4EdPdzBL","data":[{"output_type":"execute_result","execution_count":35,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Word</th>\n      <th>IDF Score</th>\n      <th>TF-IDF Score</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>year</td>\n      <td>1.032925</td>\n      <td>0.022719</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>america</td>\n      <td>1.272946</td>\n      <td>0.068439</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>people</td>\n      <td>1.037118</td>\n      <td>0.043087</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>american</td>\n      <td>1.102217</td>\n      <td>0.045792</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>work</td>\n      <td>1.162281</td>\n      <td>0.005681</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>new</td>\n      <td>1.024591</td>\n      <td>0.016275</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>job</td>\n      <td>2.043480</td>\n      <td>0.009988</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>country</td>\n      <td>1.008130</td>\n      <td>0.013550</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>americans</td>\n      <td>1.713598</td>\n      <td>0.041877</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>world</td>\n      <td>1.138750</td>\n      <td>0.026438</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"        Word  IDF Score  TF-IDF Score\n0       year   1.032925      0.022719\n1    america   1.272946      0.068439\n2     people   1.037118      0.043087\n3   american   1.102217      0.045792\n4       work   1.162281      0.005681\n5        new   1.024591      0.016275\n6        job   2.043480      0.009988\n7    country   1.008130      0.013550\n8  americans   1.713598      0.041877\n9      world   1.138750      0.026438","content_type":"text/plain"}}}],"key":"dxVkdtOwdL"}],"key":"Dl6S3kdHJm"}],"key":"wwqOtIOBgU"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Part 1: Data Loading and Initial Exploration (15 pts)","url":"/nlp-p01","group":"Project 2: Reproducibility in Natural Language Processing"},"next":{"title":"Part 3: Advanced Text Processing - LDA and BERTopic Topic Modeling (20 pts)","url":"/nlp-p03","group":"Project 2: Reproducibility in Natural Language Processing"}}},"domain":"http://localhost:3008"}